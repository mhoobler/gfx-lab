!function(n){"object"==typeof exports&&"object"==typeof module?n(require("codemirror/lib/codemirror")):"function"==typeof define&&define.amd?define(["codemirror/lib/codemirror"],n):n(CodeMirror)}((function(n){"use strict";n.defineMode("wgsl",(function(n){function e(n,e){if(!n.hasOwnProperty(e))throw new Error("Undefined state "+e+" in simple mode")}function t(n,t){(n.next||n.push)&&e(t,n.next||n.push),this.regex=function(n,e){if(!n)return/(?:)/;var t="";return n instanceof RegExp?(n.ignoreCase&&(t+="i"),n.unicode&&(t+="u"),n=n.source):n=String(n),new RegExp("^(?:"+n+")",t)}(n.regex),this.token=function(n){if(!n)return null;if(n.apply)return n;if("string"==typeof n)return n.replace(/\./g," ");for(var e=[],t=0;t<n.length;t++)e.push(n[t]&&n[t].replace(/\./g," "));return e}(n.token),this.data=n}function r(n){return function(e,t){if(t.pending){var r=t.pending.shift();return 0==t.pending.length&&(t.pending=null),e.pos+=r.text.length,r.token}for(var a=n[t.state],o=0;o<a.length;o++){var i=a[o],s=(!i.data.sol||e.sol())&&e.match(i.regex);if(s){if(i.data.unreachable)throw new Error("Reached unreachable rule: "+i.data.unreachable);i.data.next?t.state=i.data.next:i.data.push?((t.stack||(t.stack=[])).push(t.state),t.state=i.data.push):i.data.pop&&t.stack&&t.stack.length&&(t.state=t.stack.pop()),i.data.indent&&t.indent.push(e.indentation()+2),i.data.dedent&&t.indent.pop();var u=i.token;if(u&&u.apply&&(u=u(s)),s.length>2&&i.token&&"string"!=typeof i.token){t.pending=[];for(var c=2;c<s.length;c++)s[c]&&t.pending.push({text:s[c],token:i.token[c-1]});return e.backUp(s[0].length-(s[1]?s[1].length:0)),u[0]}return u&&u.join?u[0]:u}}return e.next(),null}}function a(n,e){return function(t,r){if(null==t.indent||e.dontIndentStates&&e.dontIndentStates.indexOf(t.state)>-1)return null;var a=t.indent.length-1,o=n[t.state];n:for(;;){for(var i=0;i<o.length;i++){var s=o[i];if(s.data.dedent&&!1!==s.data.dedentIfLineStart){var u=s.regex.exec(r);if(u&&u[0]){a--,(s.next||s.push)&&(o=n[s.next||s.push]),r=r.slice(u[0].length);continue n}}}break}return a<0?0:t.indent[a]}}function o(n){for(var e=[],t=n.split(/\r+|\n+| +/),r=0;r<t.length;++r)t[r].length>0&&e.push(t[r]);return e}var i=o("\n                  alias\n                  break\n                  case\n                  const\n                  const_assert\n                  continue\n                  continuing\n                  default\n                  diagnostic\n                  discard\n                  else\n                  enable\n                  false\n                  fn\n                  for\n                  if\n                  let\n                  loop\n                  override\n                  requires\n                  return\n                  struct\n                  switch\n                  true\n                  var\n                  while\n                  "),s=o("\n                  NULL\n                  Self\n                  abstract\n                  active\n                  alignas\n                  alignof\n                  as\n                  asm\n                  asm_fragment\n                  async\n                  attribute\n                  auto\n                  await\n                  become\n                  binding_array\n                  cast\n                  catch\n                  class\n                  co_await\n                  co_return\n                  co_yield\n                  coherent\n                  column_major\n                  common\n                  compile\n                  compile_fragment\n                  concept\n                  const_cast\n                  consteval\n                  constexpr\n                  constinit\n                  crate\n                  debugger\n                  decltype\n                  delete\n                  demote\n                  demote_to_helper\n                  do\n                  dynamic_cast\n                  enum\n                  explicit\n                  export\n                  extends\n                  extern\n                  external\n                  fallthrough\n                  filter\n                  final\n                  finally\n                  friend\n                  from\n                  fxgroup\n                  get\n                  goto\n                  groupshared\n                  highp\n                  impl\n                  implements\n                  import\n                  inline\n                  instanceof\n                  interface\n                  layout\n                  lowp\n                  macro\n                  macro_rules\n                  match\n                  mediump\n                  meta\n                  mod\n                  module\n                  move\n                  mut\n                  mutable\n                  namespace\n                  new\n                  nil\n                  noexcept\n                  noinline\n                  nointerpolation\n                  noperspective\n                  null\n                  nullptr\n                  of\n                  operator\n                  package\n                  packoffset\n                  partition\n                  pass\n                  patch\n                  pixelfragment\n                  precise\n                  precision\n                  premerge\n                  priv\n                  protected\n                  pub\n                  public\n                  readonly\n                  ref\n                  regardless\n                  register\n                  reinterpret_cast\n                  require\n                  resource\n                  restrict\n                  self\n                  set\n                  shared\n                  sizeof\n                  smooth\n                  snorm\n                  static\n                  static_assert\n                  static_cast\n                  std\n                  subroutine\n                  super\n                  target\n                  template\n                  this\n                  thread_local\n                  throw\n                  trait\n                  try\n                  type\n                  typedef\n                  typeid\n                  typename\n                  typeof\n                  union\n                  unless\n                  unorm\n                  unsafe\n                  unsized\n                  use\n                  using\n                  varying\n                  virtual\n                  volatile\n                  wgsl\n                  where\n                  with\n                  writeonly\n                  yield\n                  "),u=o("\n            read write read_write\n            function private workgroup uniform storage\n            perspective linear flat\n            center centroid sample\n            vertex_index instance_index position front_facing frag_depth\n                local_invocation_id local_invocation_index\n                global_invocation_id workgroup_id num_workgroups\n                sample_index sample_mask\n            rgba8unorm\n            rgba8snorm\n            rgba8uint\n            rgba8sint\n            rgba16uint\n            rgba16sint\n            rgba16float\n            r32uint\n            r32sint\n            r32float\n            rg32uint\n            rg32sint\n            rg32float\n            rgba32uint\n            rgba32sint\n            rgba32float\n            bgra8unorm\n  "),c=o("\n            bool\n            f16\n            f32\n            i32\n            sampler sampler_comparison\n            texture_depth_2d\n            texture_depth_2d_array\n            texture_depth_cube\n            texture_depth_cube_array\n            texture_depth_multisampled_2d\n            texture_external\n            texture_external\n            u32\n            "),p=o("\n            array\n            atomic\n            mat2x2\n            mat2x3\n            mat2x4\n            mat3x2\n            mat3x3\n            mat3x4\n            mat4x2\n            mat4x3\n            mat4x4\n            ptr\n            texture_1d\n            texture_2d\n            texture_2d_array\n            texture_3d\n            texture_cube\n            texture_cube_array\n            texture_multisampled_2d\n            texture_storage_1d\n            texture_storage_2d\n            texture_storage_2d_array\n            texture_storage_3d\n            vec2\n            vec3\n            vec4\n            "),m=o("\n            vec2i vec3i vec4i\n            vec2u vec3u vec4u\n            vec2f vec3f vec4f\n            vec2h vec3h vec4h\n            mat2x2f mat2x3f mat2x4f\n            mat3x2f mat3x3f mat3x4f\n            mat4x2f mat4x3f mat4x4f\n            mat2x2h mat2x3h mat2x4h\n            mat3x2h mat3x3h mat3x4h\n            mat4x2h mat4x3h mat4x4h\n            "),l=o("\n      bitcast all any select arrayLength abs acos acosh asin asinh atan atanh atan2\n      ceil clamp cos cosh countLeadingZeros countOneBits countTrailingZeros cross\n      degrees determinant distance dot exp exp2 extractBits faceForward firstLeadingBit\n      firstTrailingBit floor fma fract frexp inverseBits inverseSqrt ldexp length\n      log log2 max min mix modf normalize pow quantizeToF16 radians reflect refract\n      reverseBits round saturate sign sin sinh smoothstep sqrt step tan tanh transpose\n      trunc dpdx dpdxCoarse dpdxFine dpdy dpdyCoarse dpdyFine fwidth fwidthCoarse fwidthFine\n      textureDimensions textureGather textureGatherCompare textureLoad textureNumLayers\n      textureNumLevels textureNumSamples textureSample textureSampleBias textureSampleCompare\n      textureSampleCompareLevel textureSampleGrad textureSampleLevel textureSampleBaseClampToEdge\n      textureStore atomicLoad atomicStore atomicAdd atomicSub atomicMax atomicMin\n      atomicAnd atomicOr atomicXor atomicExchange atomicCompareExchangeWeak pack4x8snorm\n      pack4x8unorm pack2x16snorm pack2x16unorm pack2x16float unpack4x8snorm unpack4x8unorm\n      unpack2x16snorm unpack2x16unorm unpack2x16float storageBarrier workgroupBarrier\n      workgroupUniformLoad\n    ");function d(n){return new RegExp("^(?:"+n.join("|")+")\\b")}var x=[{regex:/^\s+/,token:"space"},{regex:/^\/\/.*/,token:"comment"},{regex:/^\/\*/,token:"comment",push:"blockComment"}];return function(n){e(n,"start");var o={},i=n.languageData||{},s=!1;for(var u in n)if(u!=i&&n.hasOwnProperty(u))for(var c=o[u]=[],p=n[u],m=0;m<p.length;m++){var l=p[m];c.push(new t(l,n)),(l.indent||l.dedent)&&(s=!0)}return{name:i.name,startState:()=>({state:"start",pending:null,indent:s?[]:null}),copyState(n){var e={state:n.state,pending:n.pending,indent:n.indent&&n.indent.slice(0)};return n.stack&&(e.stack=n.stack.slice(0)),e},token:r(o),indent:a(o,i),languageData:i}}({languageData:{name:"wgsl",dontIndentStates:["blockComment"]},start:[...x,{regex:/^@/,token:"meta",push:"attribute"},{regex:/^(true|false)\b/,token:"atom"},{regex:d(i),token:"keyword"},{regex:d(s),token:"keyword"},{regex:d(l),token:"intrinsic"},{regex:d(u),token:"variable-3"},{regex:d(c),token:"variable-2"},{regex:d(p),token:"variable-2"},{regex:d(m),token:"variable-2"},{regex:/^0[fh]/,token:"number"},{regex:/^[1-9][0-9]*[fh]/,token:"number"},{regex:/^[0-9]*\.[0-9]+([eE][+-]?[0-9]+)?[fh]?/,token:"number"},{regex:/^[0-9]+\.[0-9]*([eE][+-]?[0-9]+)?[fh]?/,token:"number"},{regex:/^[0-9]+[eE][+-]?[0-9]+[fh]?/,token:"number"},{regex:/^0[xX][0-9a-fA-F]*\.[0-9a-fA-F]+(?:[pP][+-]?[0-9]+[fh]?)?/,token:"number"},{regex:/^0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*(?:[pP][+-]?[0-9]+[fh]?)?/,token:"number"},{regex:/^0[xX][0-9a-fA-F]+[pP][+-]?[0-9]+[fh]?/,token:"number"},{regex:/^0[xX][0-9a-fA-F]+[iu]?/,token:"number"},{regex:/^[1-9][0-9]*[iu]?\b/,token:"number"},{regex:/^0[iu]?\b/,token:"number"},{regex:/^[\{\[\(]/,token:"operator",indent:!0},{regex:/^[\}\]\)]/,token:"operator",dedent:!0},{regex:/^[,\.;:]/,token:"operator"},{regex:/^[+\-*/%&|<>^!~=]+/,token:"operator"},{regex:/^[_\p{XID_Start}]\p{XID_Continue}*/u,token:"variable"}],blockComment:[{regex:RegExp("^[^*/]+"),token:"comment"},{regex:RegExp("^/\\*"),token:"comment",push:"blockComment"},{regex:RegExp("^\\*/"),token:"comment",pop:!0},{regex:RegExp("^[*/]"),token:"comment"}],attribute:[...x,{regex:/^\w+/,token:"meta",pop:!0},{regex:/^()/,token:"punctuation",pop:!0}]})})),n.defineMIME("text/wgsl","wgsl")}));